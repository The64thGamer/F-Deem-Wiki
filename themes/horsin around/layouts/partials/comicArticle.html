<article>
  <div class="article-thumbnail">
    {{ if .Params.pageThumbnailFile }}
      <img src="/web/{{ .Params.pageThumbnailFile }}">
    {{ else }}
      <img src="/photos/File Not Found.jpg" alt="{{ .Title }}">
    {{ end }}
  </div>

  <div>
    {{ .Content }}
  </div>
</article>

<hr>

<div class="comic-navigation" style="text-align:center; margin-top: 1em;">
  {{ $current := .Title | int }}
  {{ $nextNum := add $current 1 }}
  {{ $prevNum := sub $current 1 }}
  {{ $baseURL := "/comic" }}

  {{/* Only include pages that have "Comic" in categories */}}
  {{ $comicPages := where site.RegularPages "Params.categories" "intersect" (slice "Comic") }}

  {{/* Find previous and next pages by numeric title */}}
  {{ $prevMatches := where $comicPages "Title" (printf "%d" $prevNum) }}
  {{ $nextMatches := where $comicPages "Title" (printf "%d" $nextNum) }}

  <!-- FIRST -->
  <a href="{{ $baseURL }}/1">FIRST</a> |

  <!-- PREV -->
  {{ if gt $current 1 }}
    {{ if gt (len $prevMatches) 0 }}
      <a href="{{ (index $prevMatches 0).RelPermalink }}">PREV</a> |
    {{ else }}
      <span style="opacity:0.5;">PREV</span> |
    {{ end }}
  {{ else }}
    <span style="opacity:0.5;">PREV</span> |
  {{ end }}

  <!-- NEXT -->
  {{ if gt (len $nextMatches) 0 }}
    <a href="{{ (index $nextMatches 0).RelPermalink }}">NEXT</a>
  {{ else }}
    <span style="opacity:0.5;">NEXT</span>
  {{ end }}
</div>
