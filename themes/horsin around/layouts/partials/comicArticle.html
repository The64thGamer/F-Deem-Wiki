<article>
	<div class="article-thumbnail">
	{{ if .Params.pageThumbnailFile }}
		<img src="/web/{{ .Params.pageThumbnailFile }}">
	{{ else }}
		<img src="/photos/File Not Found.jpg" alt="{{ .Title }}">
	{{ end }}
	</div>
	<div>
		{{ .Content }}
	</div>
</article>

<hr>

<div class="comic-navigation" style="text-align:center; margin-top: 1em;">
	{{/* current numeric title */}}
	{{ $current := .Title | int }}
	{{ $nextNum := add $current 1 }}
	{{ $prevNum := sub $current 1 }}

	{{/* limit search to pages in the "comic" section that have category = "Comic" */}}
	{{ $sectionPages := where .Site.RegularPages "Section" "comic" }}
	{{ $comicPages := where $sectionPages "Params.category" "Comic" }}

	{{/* FIRST â€” try to find the page titled "1" in the Comic category, fall back to /comic/1 */}}
	{{ $firstMatches := where $comicPages "Title" "1" }}
	{{ if gt (len $firstMatches) 0 }}
		{{ $first := index $firstMatches 0 }}
		<a href="{{ $first.RelPermalink }}">FIRST</a> |
	{{ else }}
		<a href="/comic/1">FIRST</a> |
	{{ end }}

	{{/* PREV */}}
	{{ if gt $current 1 }}
		{{ $prevMatches := where $comicPages "Title" (printf "%d" $prevNum) }}
		{{ if gt (len $prevMatches) 0 }}
			{{ $prev := index $prevMatches 0 }}
			<a href="{{ $prev.RelPermalink }}">PREV</a> |
		{{ else }}
			<span style="opacity:0.5;">PREV</span> |
		{{ end }}
	{{ else }}
		<span style="opacity:0.5;">PREV</span> |
	{{ end }}

	{{/* NEXT */}}
	{{ $nextMatches := where $comicPages "Title" (printf "%d" $nextNum) }}
	{{ if gt (len $nextMatches) 0 }}
		{{ $next := index $nextMatches 0 }}
		<a href="{{ $next.RelPermalink }}">NEXT</a>
	{{ else }}
		<span style="opacity:0.5;">NEXT</span>
	{{ end }}
</div>
